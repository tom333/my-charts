{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "labels": ["dependencies"],
  "packageRules": [
    {
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "automerge": true
    },
    {
      "matchFileNames": ["charts/**/Chart.yaml", "charts/**/Chart.yml"],
      "matchManagers": ["helmv3"],
      "bumpVersions": [
        {
          "filePatterns": ["{{packageFileDir}}/Chart.{yaml,yml}"],
          "matchStrings": ["version:\\s*(?<version>[^\\s]+)"],
          "bumpType": "{{#if isMajor}}major{{else}}{{#if isMinor}}minor{{else}}patch{{/if}}{{/if}}"
        }
      ]
    }
  ],  
  "registryAliases": {
    "stable": "https://charts.helm.sh/stable"
  },
  "commitMessageTopic": "helm chart {{depName}}",
  "managerFilePatterns": [
    "/(^|/)Chart\\.ya?ml$/"
  ]
}
